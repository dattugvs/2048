(window.webpackJsonp2048=window.webpackJsonp2048||[]).push([[0],{17:function(e,t,r){e.exports=r(27)},27:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(10),s=r.n(o),c=r(1),i=r(2),u=r(5),l=r(3),m=r(6);var p=function(){return a.a.createElement("div",{className:"d-flex justify-content-center title"},a.a.createElement("h4",null,a.a.createElement("p",null," Join the numbers using ",a.a.createElement("strong",null,"arrow keys")," and get to the ",a.a.createElement("strong",null,"2048 tile!")," ")))};var f=function(e){var t="tile tile--"+e.number;return a.a.createElement("div",null,a.a.createElement("div",{className:t,style:{top:e.top,left:e.left}},a.a.createElement("div",{className:"tile-content"},e.number)))},b=r(4),v="NEW_GAME",h="UNDO_GAME",O="MOVE_UP",E="MOVE_DOWN",d="MOVE_LEFT",y="MOVE_RIGHT",g="START_TIMER",j="STOP_TIMER",w="UPDATE_TIMER";function x(){return{type:v}}var T=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(u.a)(this,Object(l.a)(t).call(this,e))).board=a.a.createRef(),r}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.focusGame()}},{key:"componentDidUpdate",value:function(e,t){this.focusGame()}},{key:"focusGame",value:function(){this.board.current.focus()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"board",onKeyDown:this.handleKeyPress.bind(this),tabIndex:"0",ref:this.board,onBlur:function(){e.focusGame()}},a.a.createElement("div",{className:"tile-container"},a.a.createElement("div",{className:"tile-row"},a.a.createElement(f,{number:this.props.numbers[0][0],top:"0px",left:"0px"}),a.a.createElement(f,{number:this.props.numbers[0][1],top:"0px",left:"100px"}),a.a.createElement(f,{number:this.props.numbers[0][2],top:"0px",left:"200px"}),a.a.createElement(f,{number:this.props.numbers[0][3],top:"0px",left:"300px"})),a.a.createElement("div",{className:"tile-row"},a.a.createElement(f,{number:this.props.numbers[1][0],top:"100px",left:"0px"}),a.a.createElement(f,{number:this.props.numbers[1][1],top:"100px",left:"100px"}),a.a.createElement(f,{number:this.props.numbers[1][2],top:"100px",left:"200px"}),a.a.createElement(f,{number:this.props.numbers[1][3],top:"100px",left:"300px"})),a.a.createElement("div",{className:"tile-row"},a.a.createElement(f,{number:this.props.numbers[2][0],top:"200px",left:"0px"}),a.a.createElement(f,{number:this.props.numbers[2][1],top:"200px",left:"100px"}),a.a.createElement(f,{number:this.props.numbers[2][2],top:"200px",left:"200px"}),a.a.createElement(f,{number:this.props.numbers[2][3],top:"200px",left:"300px"})),a.a.createElement("div",{className:"tile-row"},a.a.createElement(f,{number:this.props.numbers[3][0],top:"300px",left:"0px"}),a.a.createElement(f,{number:this.props.numbers[3][1],top:"300px",left:"100px"}),a.a.createElement(f,{number:this.props.numbers[3][2],top:"300px",left:"200px"}),a.a.createElement(f,{number:this.props.numbers[3][3],top:"300px",left:"300px"}))))}},{key:"handleKeyPress",value:function(e){switch(e.preventDefault(),e.keyCode){case 37:this.props.moveLeft();break;case 38:this.props.moveUp();break;case 39:this.props.moveRight();break;case 40:this.props.moveDown()}}}]),t}(a.a.Component);var k=Object(b.b)((function(e){return{previous:e.game.numbers.previous,numbers:e.game.numbers.current}}),(function(e){return{moveUp:function(){return e({type:O})},moveDown:function(){return e({type:E})},moveLeft:function(){return e({type:d})},moveRight:function(){return e({type:y})}}}))(T),G=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"game-options"},a.a.createElement("button",{className:"game-btn new-game-btn",style:{float:"left"},onClick:function(){return e.props.newGame()}},"New Game"),a.a.createElement("button",{className:"game-btn undo-game-btn",style:{float:"right"},onClick:function(){return e.props.undoGame()},disabled:this.props.isPreviousNull},"Undo"))}}]),t}(a.a.Component);var N=Object(b.b)((function(e){return{isPreviousNull:null===e.game.numbers.previous}}),(function(e){return{newGame:function(){return e(x())},undoGame:function(){return e({type:h})}}}))(G),S=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"startTimer",value:function(){this.props.startTimer(),this.timer=setInterval(this.updateTimer.bind(this),1e3)}},{key:"updateTimer",value:function(){!0===this.props.isGameOver?this.props.stopTimer():this.props.updateTimer()}},{key:"stopTimer",value:function(){this.props.stopTimer()}},{key:"render",value:function(){!1===this.props.isTimerOn&&!1===this.props.isGameOver&&this.startTimer();var e=this.convertMS(this.props.timerTime),t=e.hour,r=e.minute,n=e.seconds;return a.a.createElement("div",{className:"timer"},a.a.createElement("p",null,a.a.createElement("strong",null,"Time - "),t+" : "+r+" : "+n))}},{key:"convertMS",value:function(e){var t,r,n;return n=Math.floor(e/1e3),r=Math.floor(n/60),n%=60,t=Math.floor(r/60),r%=60,{hour:((t%=24)+"").padStart(2,"0"),minute:(r+"").padStart(2,"0"),seconds:(n+"").padStart(2,"0")}}}]),t}(n.Component);var P=Object(b.b)((function(e){return{isTimerOn:e.timer.isTimerOn,isGameOver:e.game.gameStatus.isGameOver,timerTime:e.timer.timerTime}}),(function(e){return{startTimer:function(){return e({type:g})},updateTimer:function(){return e({type:w})},stopTimer:function(){return e({type:j})}}}))(S),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"game-steps"},a.a.createElement("div",{className:"steps"},a.a.createElement("p",null,a.a.createElement("strong",null,"Moves : "),this.props.moves)),a.a.createElement(P,null))}}]),t}(n.Component);var M=Object(b.b)((function(e){return{moves:e.game.gameInfo.moves}}),null)(D),C=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("best-score")||0;return(0===e||this.props.score>e)&&(e=this.props.score,localStorage.setItem("best-score",e)),a.a.createElement("div",{className:"score-cotnainer"},a.a.createElement("div",{className:"scores text-center"},a.a.createElement("div",{className:"scorecard"},a.a.createElement("p",null,a.a.createElement("strong",null,"Score : "),this.props.score)),a.a.createElement("div",{className:"best-scorecard"},a.a.createElement("p",null,a.a.createElement("strong",null,"Best : "),e))))}}]),t}(n.Component);var I=Object(b.b)((function(e){return{score:e.game.gameInfo.score}}),null)(C),A=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"end active"},a.a.createElement("div",{className:"game-message text-center"},!0===this.props.isWon?a.a.createElement("div",null,a.a.createElement("p",null,"Won the match ! ",a.a.createElement("span",{role:"img","aria-label":"happy",style:{fontSize:"100px"}},"\ud83e\udd73")),a.a.createElement("button",{onClick:function(){return e.props.newGame()}},"Try to win another Game")):a.a.createElement("div",null,a.a.createElement("p",null,"Lost the match ! ",a.a.createElement("span",{role:"img","aria-label":"sad",style:{fontSize:"100px"}},"\ud83e\udd7a")),a.a.createElement("button",{onClick:function(){return e.props.newGame()}},"Retry Again"))))}}]),t}(n.Component);var R=Object(b.b)(null,(function(e){return{newGame:function(){return e(x())}}}))(A),W=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("isGameOver - "+this.props.isGameOver),a.a.createElement("div",{className:"game"},a.a.createElement(I,null),a.a.createElement(N,null),a.a.createElement(k,null),a.a.createElement(M,{moves:12,time:123}),!0===this.props.isGameOver?a.a.createElement(R,null):null)}}]),t}(n.Component);var _=Object(b.b)((function(e){return{isGameOver:e.game.gameStatus.isGameOver}}),null)(W),U=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("main",null,a.a.createElement("div",{className:"container"},a.a.createElement(p,null),a.a.createElement(_,null)))}}]),t}(a.a.Component),L=r(9),B=r(11);function V(e){for(var t=[],r=0;r<4;r++)for(var n=0;n<4;n++)null===e[r][n]&&t.push(4*r+n);if(0===t.length)return e;var a=[2,4][J([2,4])],o=t[J(t)];return e[Math.floor(o/4)][o%4]=a,e}function J(e){if(0===e.length)return null;var t=e.length-1;return Math.floor(Math.random()*(t-0+1))+0}function K(){for(var e=Array(4),t=0;t<4;t++)e[t]=new Array(4).fill(null);return e=V(e),e=V(e)}var z="UP",F="Down",H="LEFT",$="RIGHT";function q(e){for(var t=null,r=0,n=0;n<4;n++)null!==e[n]&&(null===t?t=n:e[n]===e[t]?(e[t]=2*e[n],r+=2*e[n],e[n]=null,t=null):t=n);return{scoreCount:r,nums:Q(e)}}function Q(e){var t,r;for(t=e.length-1;t>=0;t--)null===e[t]&&(r=e.splice(t,1),e.push(r[0]));return e}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(r,!0).forEach((function(t){Object(B.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(){return{gameInfo:{score:0,moves:0},gameStatus:{isWon:!1,isGameOver:!1},numbers:{current:K(),previous:null}}}function ee(e,t){var r=function(e,t){var r=0;if(t===H)for(var n=0;n<4;n++){var a=q(e[n]);e[n]=a.nums,r+=a.scoreCount}else if(t===$)for(var o=0;o<4;o++){for(var s=Array(4),c=3,i=0;c>=0;c--,i++)s[i]=e[o][c];var u=q(s);s=u.nums,r+=u.scoreCount;for(var l=0,m=3;l<4;l++,m--)e[o][m]=s[l]}else if(t===z)for(var p=0;p<4;p++){for(var f=Array(4),b=0;b<4;b++)f[b]=e[b][p];var v=q(f);f=v.nums,r+=v.scoreCount;for(var h=0;h<4;h++)e[h][p]=f[h]}else for(var O=0;O<4;O++){for(var E=Array(4),d=3,y=0;d>=0;d--,y++)E[y]=e[d][O];var g=q(E);E=g.nums,r+=g.scoreCount;for(var j=0,w=3;j<4;j++,w--)e[w][O]=E[j]}return{nums:e,totalScore:r}}(e.numbers.current.map((function(e){return e.slice()})),t),n=r.nums,a=r.totalScore,o=function(e){for(var t=!0,r=0;r<4;r++)for(var n=0;n<4;n++){if(2048===e[r][n])return{isWon:!0,isGameOver:!0};null===e[r][n]?t=!1:3===n&&r<3?e[r][n]===e[r+1][n]&&(t=!1):n<3&&3===r?e[r][n]===e[r][n+1]&&(t=!1):r<3&&n<3&&(e[r][n]!==e[r][n+1]&&e[r][n]!==e[r+1][n]||(t=!1))}return{isWon:!1,isGameOver:t}}(n),s=o.isGameOver;return!1===o.isGameOver&&(n=V(n)),Y({},e,{gameInfo:{score:e.gameInfo.score+a,moves:e.gameInfo.moves+(0===a?0:1)},numbers:{current:n,previous:e.numbers.current},gameStatus:o,isTimerOn:s})}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(r,!0).forEach((function(t){Object(B.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne={isTimerOn:!1,timerStart:0,timerTime:0};var ae=Object(L.b)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z();switch((arguments.length>1?arguments[1]:void 0).type){case v:return Z();case g:return Y({},e,{isTimerOn:!0});case h:return Y({},e,{numbers:{current:e.numbers.previous,previous:null}});case O:return ee(e,z);case E:return ee(e,F);case d:return ee(e,H);case y:return ee(e,$);default:return e}},timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;switch((arguments.length>1?arguments[1]:void 0).type){case v:case g:return{isTimerOn:!0,timerStart:Date.now(),timerTime:0};case j:return re({},e,{isTimerOn:!1});case w:return re({},e,{timerTime:Date.now()-e.timerStart});default:return e}}}),oe=Object(L.c)(ae);console.log(oe.getState());var se=oe;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(b.a,{store:se},a.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.63d232b2.chunk.js.map